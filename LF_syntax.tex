\section{An Equational Logical Framework}
In this section we recall the equational logical framework,
as described in \cite{harper2021equational} (with some minor changes).
We want this to be minimalistic but sufficiently expressive so that we can define type theories by asserting the rules the type theory
via a collection of generators, called a signature and denoted $\Si$.
% We want contexts, classes (aka types), objects (aka terms) in those classes,
% and judgmental equality between classes and objects.
We state the syntax and judgment rules for convenience and refer to \cite{harper2021equational} for the details.

\begin{align*}
  &\textit{variable} \quad X  \\
  &\textit{expression} \quad O, S, K, e &::= \quad & X \BNFSep \SortCS \BNFSep \PiCS{X}{S}{e}
                                     \BNFSep \EqCS{S}{O_{0}}{O_{1}} \BNFSep \SelfCS \BNFSep \LamCS{X}{S}{O} \BNFSep \ApCS{O_{0}}{O_{1}} \\
  &\textit{context} \quad \Ga, \De &::= \quad & \cdot \BNFSep \CtxExt{\Ga}{X}{K}
\end{align*}
$O$ indicates this is meant to represent an object
(though they are all expressions at this point),
similarly $S$ for sorts and $K$ for classes.
The agnostic expression symbol $e$ should represent a sort or a class.

The judgments we define are
\begin{align*}
  &\CtxJdg{\Ga} && \Ga \text{ is a context }  \\
  &X:K \in \Ga && X:K \text{ appears in context } \Ga \\
  &\ClsJdg{\Ga}{K} && K \text{ is a class in context } \Ga \\
  &\ObjJdg{\Ga}{O}{K} && O \text{ is an object of class } K
    \text{ in context } \Ga && \\
  &\IdClsJdg{\Ga}{K_{0}}{K_{1}} && K_{0}, K_{1}
    \text{ are equal classes in context } \Ga \\
  &\IdObjJdg{\Ga}{O_{0}}{O_{1}}{K} && O_{0},O_{1}
    \text{ are equal objects of class } K
    \text{ in context } \Ga
\end{align*}

The legal judgments given by the closure under the judgment rules
in figures \ref{ctx_form}, \ref{cls_form}, \ref{sort_form}, \ref{obj_form},
and those for judgmental equality (not included).

\begin{figure}[h]
\begin{mathpar}
  \infer[\textsc{ctx-emp}]{\CtxJdg{\bullet}}{}

  \infer[\textsc{ctx-ext}]{\CtxJdg{\CtxExt{\Ga}{X}{K}}}{\ClsJdg{\Ga}{K}}

  \infer[\textsc{ctx-hd}]{X:K \in{\CtxExt{\Ga}{X}{K}}}
  {}

  \infer[\textsc{ctx-tl}]{X_0:K_0 \in \CtxExt{\Ga}{X_1}{K_1}}
    {X_0:K_0 \in \Ga}
\end{mathpar}
  \caption{Context formation}
  \label{ctx_form}
\end{figure}

\begin{figure}[h]
\begin{mathpar}
  \infer[\textsc{sort-cls}]{\ClsJdg{\Ga}{\SortCS}}{\CtxJdg{\Ga}}

  \infer[\textsc{incl-cls}]{\ClsJdg{\Ga}{S}}{\ObjJdg{\Ga}{S}{\SortCS}}

  \infer[\textsc{pi-cls}]{\ClsJdg{\Ga}{\PiCS{X}{S}{K}}}
  {\ObjJdg{\Ga}{S}{\SortCS} & \ClsJdg{\CtxExt{\Ga}{X}{S}}{K}}

  \infer[\textsc{eq-cls}]{\ClsJdg{\Ga}{\EqCS{S}{O_0}{O_1}}}
    {\ObjJdg{\Ga}{S}{\SortCS} & \ObjJdg{\Ga}{O_0}{S} & \ObjJdg{\Ga}{O_1}{S}}
\end{mathpar}
  \caption{Class formation}
  \label{cls_form}
\end{figure}

\begin{figure}[h]
\begin{mathpar}
  \infer[\textsc{pi-sort}]{\ObjJdg{\Ga}{\PiCS{X}{S_0}{S_1}}{\SortCS}}
    {\ObjJdg{\Ga}{S_0}{\SortCS} & \ObjJdg{\CtxExt{\Ga}{X}{S_0}}{S_1}{\SortCS}}

  \infer[\textsc{eq-sort}]{\ObjJdg{\Ga}{\EqCS{S}{O_0}{O_1}}{\SortCS}}
    {\ObjJdg{\Ga}{S}{\SortCS} & \ObjJdg{\Ga}{O_0}{S} & \ObjJdg{\Ga}{O_1}{S}}
\end{mathpar} \caption{Sort formation}
  \label{sort_form}
\end{figure}

\begin{figure}[h]
\begin{mathpar}
  \infer[\textsc{var-obj}]{\ObjJdg{\Ga}{X}{K}}
    {\CtxJdg{\Ga} & X:K \in \Ga}

  \infer[\textsc{pi-lam-obj}]{\ObjJdg{\Ga}{\LamCS{X}{S}{O}}{\PiCS{X}{S}{K}}}
    {\ObjJdg{\Ga}{S}{\SortCS} & \ObjJdg{\CtxExt{\Ga}{X}{S}}{O}{K}}

  \infer[\textsc{pi-app-obj}]{\ObjJdg{\Ga}{\ApCS{O_0}{O_1}}{\Subst{O_1}{X}{K}}}
    {\ObjJdg{\Ga}{O_0}{\PiCS{X}{S}{K}} & \ObjJdg{\Ga}{O_1}{S}}

  \infer[\textsc{eq-self-obj}]{\ObjJdg{\Ga}{\SelfCS}{\EqCS{S}{O}{O}}}
    {\ObjJdg{\Ga}{O}{S}}

  \infer[\textsc{id-obj}]{\ObjJdg{\Ga}{O}{K_1}}
    {\ObjJdg{\Ga}{O}{K_0} & \IdClsJdg{\Ga}{K_0}{K_1}}
\end{mathpar}
  \caption{Object formation}
  \label{obj_form}
\end{figure}

Judgmental equality for classes $\IdClsJdg{\Ga}{K_{0}}{K_{1}}$ and objects
$\IdObjJdg{\Ga}{O_{0}}{O_{1}}{K}$ are defined to be congruences,
i.e. equivalence relations that respect formation of classes,
sorts, and objects.
Furthermore, we have $\be$ and $\eta$ rules for \textsc{pi}.
See \cite{harper2021equational} for details. %% Add these in

Finally, signatures are defined as contexts $\CtxJdg{\Si}$,
and the type theory generated by a signature $\Si$ consists of
legal judgments over $\Si$.
Note that before introducing a signature we cannot make any sorts,
nor can we make any interesting objects.
The only rules for their formation are via \textsc{pi-sort} and \textsc{eq-sort},
which require more sorts and objects as premises.
We have added \textsc{eq-sort} in addition to the rules from \cite{harper2021equational},
since we will need this for the LCCC structure.
It is the signature that populates \textsf{Sort} with sorts
and populates those sorts with objects.
Given a signature $\Si$, we write $\LF{\Si}$ to denote the
generated type theory.

\begin{align*}
  &\CtxJdg{\Si\Ga} \\
  &\ClsJdg{\Si\Ga}{K} \\
  &\ObjJdg{\Si\Ga}{O}{K} \\
  &\IdClsJdg{\Si\Ga}{K_{0}}{K_{1}} \\
  &\IdObjJdg{\Si\Ga}{O_{0}}{O_{1}}{K}
\end{align*}
